<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Fontes -->
    <script src="https://kit.fontawesome.com/2d69d246f0.js" crossorigin="anonymous"></script>
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- Estilos -->
    <link rel="stylesheet" href="../css/templateStocksafe.min.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/funcionarios.css">
    <link rel="stylesheet" href="css/modal.css">
    <link rel="stylesheet" href="css/dashFunc.css">

    <!-- Scripts -->
    <script src="js/sessao.js"></script>
    <script src="js/menuLateral.js"></script>
    <script src="js/funcionarios.js"></script>
    <script src="js/Modals.js"></script>
    <script src="./js/graficos.js"></script>

    <!-- Icone -->
    <link rel="icon" href="../assets/icon/logo.ico" />

    <title>Stock Safe - Funcionarios</title>
</head>

<body id="page-top" onload="carregarMenu('funcs',true), reloadFuncionarios()">
    <!-- Page Wrapper -->
    <div id="wrapper">
        <ul id="accordionSidebar"></ul>
        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">
            <!-- Main Content -->
            <div id="content">
                <!-- Begin Page Content -->
                <div class="container-fluid">
                    <header class="header-funcionarios">
                        <h3 class="nomePagina">Funcionários</h3>
                        <span>
                            <span>
                                <p id="textoReload"></p>
                                <i class="fa-solid fa-arrows-rotate" id="iconReload"></i>
                            </span>

                            <div id="containerAlertas"></div>

                            <button onclick="abrirModal('func')">Adicionar novo</button>
                            <button onclick="abrirModal('solicitacoes'), reloadSolicitacoes()">Solicitações</button>
                            <button onclick="abrirModal('grafico'), carregarDadosFunc()">Gráfico</button>
                            <span>

                                <input type="text" id="iptPesquisa" placeholder="Pesquisar por nome">
                                <!-- onkeyup="pesquisarServidores()"> -->
                                <svg xmlns="http://www.w3.org/2000/svg" height="1em"
                                    viewBox="0 0 512 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                    <style>
                                        svg {
                                            fill: #005eff
                                        }
                                    </style>
                                    <path
                                        d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z" />
                                </svg>
                            </span>
                        </span>
                    </header>
                    <ul id="container-funcionarios"></ul>
                </div>
                <!-- /.container-fluid -->
            </div>
        </div>
        <!-- End of Content Wrapper -->
    </div>
    <!-- End of Page Wrapper -->

    <div id="containerModal">
        <div class="modalFunc" id="modalCadFunc">
            <header>
                <h3 class="nomePagina">Convidar novo funcionário</h3>
                <i class="fa-solid fa-x" onclick="fecharModal('func'), reloadFuncionarios()"></i>
            </header>
            <div id="inputFunc" class="funcionarioInfo">
                <p> Email: <input type="email" id="inpEmail" placeholder="Digite o email"></p>
                <p> Função: <input type="text" id="inpFuncao" placeholder="Digite a função"></p>
                <button id="btnCadastrar" onclick="semiCadastrar()">Enviar convite</button>
            </div>
        </div>
        <div class="modalFunc" id="modalSolic">
            <header onload="reloadSolicitacoes()">
                <h3 class="nomePagina">Solicitações dos novos funcionários</h3>
                <i class="fa-solid fa-x" onclick="fecharModal('solicitacoes'), reloadFuncionarios()"></i>
            </header>
            <ul id="container-funcionarios-solicitacao"></ul>
        </div>
        <div class="modalGrafico" id="modalEditFunc">
            <i class="fa-solid fa-x" onclick="fecharModal('editFunc')"></i>
            <iframe id="frameFuncionario" frameborder="0"></iframe>
        </div>
        <div class="modalGraficoFunc" id="modalGraficoFunc">
            <header>
                <h3 class="nomePagina"> Gráficos de funcionários</h3>
                <i class="fa-solid fa-x" onclick="fecharModal('grafico'), reloadFuncionarios()"></i>
            </header>
            <div class="contentGrafico">
                <div class="container-fluid">
                    <div class="containerGraficos">
                        <div class="grafico" id="graficoFunc">
                            <h4>Porcentagem de aceitação</h4>
                            <canvas id="graficoFuncSA"></canvas>
                        </div>
                       <div class="grafico">
                            <h3>Quantidade de cargos</h3>
                            <canvas id="graficoFuncoes"></canvas>
                       </div>
                    </div>
                </div>
            </div>
        </div>
</body>

</html>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/Chart.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>